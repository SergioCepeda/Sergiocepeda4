{"ast":null,"code":"const initialState = {\n  recipes: [],\n  allRecipes: [],\n  diets: [],\n  detail: []\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'GET_RECIPES':\n      return { ...state,\n        recipes: action.payload,\n        allRecipes: action.payload\n      };\n\n    case 'GET_NAME_RECIPES':\n      return { ...state,\n        recipes: action.payload\n      };\n    // case 'FILTER_BY_DIET':\n    //     const allRecipes = state.allRecipes\n    //     //const dietFiltered = action.payload === 'all' ? allRecipes : allRecipes.filter(el => el.diet === action.payload)\n    //     const dietsAPI = []\n    //     const dietsDB = []\n    //     allRecipes.forEach(e => {\n    //         if (e.hasOwnProperty('diets') && e.diets.includes(action.payload)) {\n    //             dietsAPI.push(e)\n    //         }\n    //     })\n    //      allRecipes.forEach(e => {\n    //           if (e.hasOwnProperty('diets') && e.diets.find(c => c.name === action.payload)) {\n    //               dietsDB.push(e)\n    //           }\n    //      })\n    //     const find = dietsAPI.concat(dietsDB)\n    //     if (find.length) {\n    //         return {\n    //             ...state,\n    //             recipes: find\n    //         }\n    //     };\n    //     break;\n\n    case 'FILTER_BY_DIET':\n      const recipes = state.allRecipes;\n      const recipesWithDiet = action.payload === 'all' ? recipes : recipes.filter(r => {\n        let names = r.diets.map(d => d.name);\n        if (names.includes(action.payload)) return r;\n      });\n      return { ...state,\n        recipes: recipesWithDiet\n      };\n\n    case 'POST_RECIPE':\n      return { ...state\n      };\n    // case 'GET_RECIPES':\n    //     return {\n    //         ...state,\n    //         recipes: action.payload\n    //     }\n\n    case 'FILTER_CREATED':\n      const createdFilter = action.payload === 'created' ? state.allRecipes.filter(el => el.createdInDB) : state.allRecipes.filter(el => !el.createdInDB);\n      return { ...state,\n        recipes: action.payload === 'all' ? state.allRecipes : createdFilter\n      };\n\n    case \"GET_DETAIL\":\n      return { ...state,\n        detail: action.payload\n      };\n\n    case \"GET_RECIPE_TYPE\":\n      return { ...state,\n        diets: action.payload\n      };\n\n    case 'ORDER_BY_SCORE':\n      let sortedArr = action.payload === 'UP' ? state.recipes.sort(function (a, b) {\n        if (a.score > b.score) {\n          return 1;\n        }\n\n        if (b.score > a.score) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.score > b.score) {\n          return -1;\n        }\n\n        if (b.score > a.score) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: sortedArr\n      };\n\n    case 'FILTER_BY_ALPHA':\n      let alphaArr = action.payload === 'A-Z' ? state.allRecipes.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n\n        ;\n\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return -1;\n        }\n\n        ;\n        return 0;\n      }) : state.allRecipes.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        }\n\n        ;\n\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return 1;\n        }\n\n        ;\n        return 0;\n      });\n      return { ...state,\n        recipes: alphaArr\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"sources":["C:/Users/lacri/OneDrive/Desktop/food/PI-food-main/PI-food-main/PI-Food-main/client/src/reducer/index.js"],"names":["initialState","recipes","allRecipes","diets","detail","rootReducer","state","action","type","payload","recipesWithDiet","filter","r","names","map","d","name","includes","createdFilter","el","createdInDB","sortedArr","sort","a","b","score","alphaArr","toLowerCase"],"mappings":"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","sourcesContent":["const initialState = {\r\n    recipes: [],\r\n    allRecipes: [],\r\n    diets: [],\r\n    detail: []\r\n}\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'GET_RECIPES':\r\n            return {\r\n                ...state,\r\n                recipes: action.payload,\r\n                allRecipes: action.payload\r\n            }\r\n        case 'GET_NAME_RECIPES':\r\n            return {\r\n                ...state,\r\n                recipes: action.payload\r\n            }\r\n\r\n        \r\n        // case 'FILTER_BY_DIET':\r\n        //     const allRecipes = state.allRecipes\r\n        //     //const dietFiltered = action.payload === 'all' ? allRecipes : allRecipes.filter(el => el.diet === action.payload)\r\n        //     const dietsAPI = []\r\n        //     const dietsDB = []\r\n        //     allRecipes.forEach(e => {\r\n        //         if (e.hasOwnProperty('diets') && e.diets.includes(action.payload)) {\r\n        //             dietsAPI.push(e)\r\n        //         }\r\n        //     })\r\n\r\n       \r\n        //      allRecipes.forEach(e => {\r\n                \r\n        //           if (e.hasOwnProperty('diets') && e.diets.find(c => c.name === action.payload)) {\r\n        //               dietsDB.push(e)\r\n        //           }\r\n        //      })\r\n        //     const find = dietsAPI.concat(dietsDB)\r\n        //     if (find.length) {\r\n        //         return {\r\n        //             ...state,\r\n        //             recipes: find\r\n        //         }\r\n        //     };\r\n        //     break;\r\n        case 'FILTER_BY_DIET':\r\n            const recipes = state.allRecipes\r\n            const recipesWithDiet = action.payload === 'all' ? recipes :\r\n                recipes.filter((r)=> {\r\n                    let names = r.diets.map(d => d.name)\r\n                    if (names.includes(action.payload)) return r\r\n                })\r\n            return {\r\n                ...state,\r\n                recipes: recipesWithDiet\r\n            }\r\n\r\n       \r\n        case 'POST_RECIPE':\r\n            return {\r\n                ...state\r\n            }\r\n        // case 'GET_RECIPES':\r\n        //     return {\r\n        //         ...state,\r\n        //         recipes: action.payload\r\n        //     }\r\n        case 'FILTER_CREATED':\r\n            const createdFilter = action.payload === 'created' ? state.allRecipes.filter(el => el.createdInDB) : state.allRecipes.filter(el => !el.createdInDB)\r\n            return {\r\n                ...state,\r\n                recipes: action.payload === 'all' ? state.allRecipes : createdFilter\r\n            }\r\n        case \"GET_DETAIL\":\r\n            return {\r\n                ...state,\r\n                detail: action.payload,\r\n            }\r\n        case \"GET_RECIPE_TYPE\":\r\n            return {\r\n                ...state,\r\n                diets: action.payload,\r\n            }\r\n        case 'ORDER_BY_SCORE':\r\n            let sortedArr = action.payload === 'UP' ? state.recipes.sort(function (a, b) {\r\n                if (a.score > b.score) {\r\n                    return 1\r\n                }\r\n                if (b.score > a.score) {\r\n                    return -1\r\n                }\r\n                return 0\r\n            }) :\r\n                state.recipes.sort(function (a, b) {\r\n                    if (a.score > b.score) {\r\n                        return -1\r\n                    }\r\n                    if (b.score > a.score) {\r\n                        return 1\r\n                    }\r\n                    return 0\r\n                })\r\n            return {\r\n                ...state,\r\n                recipes: sortedArr\r\n            }\r\n        case 'FILTER_BY_ALPHA':\r\n            let alphaArr = action.payload === 'A-Z' ? state.allRecipes.sort(function (a, b) {\r\n                if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                    return 1;\r\n                };\r\n                if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                    return -1;\r\n                };\r\n                return 0;\r\n            }) :\r\n                state.allRecipes.sort(function (a, b) {\r\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                        return -1;\r\n                    };\r\n                    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                        return 1;\r\n                    };\r\n                    return 0;\r\n                });\r\n            return {\r\n                ...state,\r\n                recipes: alphaArr\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}
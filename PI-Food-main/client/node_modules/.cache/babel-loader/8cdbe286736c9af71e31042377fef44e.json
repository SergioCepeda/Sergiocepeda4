{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lacri\\\\OneDrive\\\\Desktop\\\\food\\\\PI-food-main\\\\PI-food-main\\\\PI-Food-main\\\\client\\\\src\\\\components\\\\Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getRecipes, getDiets, filterByDiets, orderByName, orderByScore } from \"../actions\";\nimport Card from \"./Card\";\nimport Paginate from \"./Paginate\";\nimport SearchBar from \"./SearchBar\";\nimport styles from \"./Home.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n\n  const dispatch = useDispatch();\n  const recipes = useSelector(state => state.recipes);\n  const diets = useSelector(state => state.diets);\n  const [sergio, setSergio] = useState(true);\n  useEffect(() => {\n    dispatch(getRecipes());\n  }, [dispatch]);\n  useEffect(() => {\n    dispatch(getDiets());\n  }, [dispatch]);\n  const [currentPage, setCurrentPage] = useState(1); // pagina que ira cambiando\n\n  const [recipesPerPage, setRecipesPerPage] = useState(9); // self-explanatory\n\n  const lastRecipe = recipesPerPage * currentPage; //9     // indice ultima receta renderizada\n\n  const firstRecipe = lastRecipe - recipesPerPage; //0         // indice primera receta renderizada\n\n  const currentRecipes = recipes.slice(firstRecipe, lastRecipe); // las 9 recetas que se iran mostrando en cda pág\n\n  const paginate = number => {\n    setCurrentPage(number);\n  };\n\n  function handleFilterByDiets(e) {\n    dispatch(filterByDiets(e.target.value));\n  }\n\n  ;\n\n  function handleOrderByName(e) {\n    dispatch(orderByName(e.target.value));\n    sergio ? setSergio(false) : setSergio(true);\n  }\n\n  ;\n\n  function handleOrderByScore(e) {\n    dispatch(orderByScore(e.target.value));\n    sergio ? setSergio(false) : setSergio(true);\n  }\n\n  ;\n\n  function returnToFirstPage() {\n    setCurrentPage(1);\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.home,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.selectContainer,\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        returnToFirstPage: returnToFirstPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => handleOrderByName(e),\n        defaultValue: \"default\",\n        className: styles.filters,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"default\",\n          disabled: true,\n          children: \"Alphabetical order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"asc\",\n          children: \"A-Z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"desc\",\n          children: \"Z-A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => handleOrderByScore(e),\n        defaultValue: \"default\",\n        className: styles.filters,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"default\",\n          disabled: true,\n          children: \"Order by score\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"desc\",\n          children: \"Higher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"asc\",\n          children: \"Lower\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => handleFilterByDiets(e),\n        defaultValue: \"default\",\n        className: styles.filters,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"default\",\n          disabled: true,\n          children: \"Select by diet type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), diets && diets.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: d.name,\n          children: d.name\n        }, d.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Paginate, {\n        recipesPerPage: recipesPerPage,\n        recipes: recipes === null || recipes === void 0 ? void 0 : recipes.length,\n        paginate: paginate,\n        currentPage: currentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.cardsGrid,\n        children: currentRecipes && currentRecipes.map(el => {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            img: el.image,\n            name: el.name,\n            diet: el.diets,\n            id: el.id\n          }, el.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"gvWSqC+0Il7X1xVXqe5VKAYA7CM=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Home;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/Users/lacri/OneDrive/Desktop/food/PI-food-main/PI-food-main/PI-Food-main/client/src/components/Home.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","getRecipes","getDiets","filterByDiets","orderByName","orderByScore","Card","Paginate","SearchBar","styles","Home","dispatch","recipes","state","diets","sergio","setSergio","currentPage","setCurrentPage","recipesPerPage","setRecipesPerPage","lastRecipe","firstRecipe","currentRecipes","slice","paginate","number","handleFilterByDiets","e","target","value","handleOrderByName","handleOrderByScore","returnToFirstPage","home","selectContainer","filters","map","d","name","id","length","cardsGrid","el","image"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getRecipes, getDiets, filterByDiets, orderByName, orderByScore } from \"../actions\";\r\nimport Card from \"./Card\";\r\nimport Paginate from \"./Paginate\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport styles from \"./Home.module.css\"\r\n\r\nexport default function Home() {\r\n    const dispatch = useDispatch();\r\n    const recipes = useSelector(state => state.recipes);\r\n    const diets = useSelector(state => state.diets);\r\n    const [sergio, setSergio] = useState(true)\r\n    useEffect(() => {\r\n        dispatch(getRecipes());\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        dispatch(getDiets());\r\n    }, [dispatch])\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);    // pagina que ira cambiando\r\n    const [recipesPerPage, setRecipesPerPage] = useState(9); // self-explanatory\r\n    const lastRecipe = recipesPerPage * currentPage; //9     // indice ultima receta renderizada\r\n    const firstRecipe = lastRecipe - recipesPerPage; //0         // indice primera receta renderizada\r\n    const currentRecipes = recipes.slice(firstRecipe, lastRecipe); // las 9 recetas que se iran mostrando en cda pág\r\n\r\n    const paginate = (number) => {\r\n        setCurrentPage(number)\r\n    };\r\n\r\n\r\n    function handleFilterByDiets(e) {\r\n        dispatch(filterByDiets(e.target.value))\r\n    };\r\n\r\n    function handleOrderByName(e) {\r\n        dispatch(orderByName(e.target.value))\r\n        sergio ? setSergio(false) : setSergio(true)\r\n    };\r\n\r\n    function handleOrderByScore(e) {\r\n        dispatch(orderByScore(e.target.value))\r\n        sergio ? setSergio(false) : setSergio(true)\r\n    };\r\n\r\n    function returnToFirstPage() {\r\n        setCurrentPage(1)\r\n    };\r\n\r\n    return (\r\n        <div className={styles.home}>\r\n            <div className={styles.selectContainer}>\r\n            <SearchBar returnToFirstPage={returnToFirstPage} />\r\n                <select onChange={e => handleOrderByName(e)} defaultValue='default' className={styles.filters}>\r\n                    <option value=\"default\" disabled >Alphabetical order</option>\r\n                    <option value=\"asc\">A-Z</option>\r\n                    <option value=\"desc\">Z-A</option>\r\n                </select>\r\n                <select onChange={e => handleOrderByScore(e)} defaultValue='default' className={styles.filters}>\r\n                    <option value=\"default\" disabled >Order by score</option>\r\n                    <option value=\"desc\">Higher</option>\r\n                    <option value=\"asc\">Lower</option>\r\n                </select>\r\n\r\n                <select onChange={e => handleFilterByDiets(e)} defaultValue='default' className={styles.filters}>\r\n                    <option value=\"default\" disabled >Select by diet type</option>\r\n                    {\r\n                        diets && diets.map(d => (\r\n                            <option value={d.name} key={d.id}>{d.name}</option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n            <div>\r\n                <Paginate\r\n                    recipesPerPage={recipesPerPage}\r\n                    recipes={recipes?.length}\r\n                    paginate={paginate}\r\n                    currentPage={currentPage}\r\n                />\r\n                <div className={styles.cardsGrid}>\r\n                    {\r\n                        currentRecipes && currentRecipes.map(el => {\r\n                            return (\r\n                                <Card img={el.image} name={el.name} diet={el.diets} id={el.id} key={el.id} />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
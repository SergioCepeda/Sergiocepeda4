{"ast":null,"code":"const initialState = {\n  recipes: [],\n  allRecipes: [],\n  diets: [],\n  detail: []\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'GET_RECIPES':\n      return { ...state,\n        recipes: action.payload\n      };\n\n    default:\n      return { ...state\n      };\n\n    case 'GET_NAME_RECIPES':\n      return { ...state,\n        recipes: action.payload\n      };\n\n    case 'FILTER_BY_DIET':\n      const allRecipes = state.allRecipes;\n      const dietsAPI = [];\n      const dietsDB = [];\n      allRecipes.forEach(e => {\n        if (e.hasOwnProperty('diets') && e.diets.includes(action.payload)) {\n          dietsAPI.push(e);\n        }\n      });\n      allRecipes.forEach(e => {\n        if (e.hasOwnProperty('diets') && e.diets.find(c => c.name === action.payload)) {\n          dietsDB.push(e);\n        }\n      });\n      const find = dietsAPI.concat(dietsDB);\n\n      if (find.length) {\n        return { ...state,\n          recipes: find\n        };\n      }\n\n      ;\n      break;\n\n    case 'POST_RECIPE':\n      return { ...state\n      };\n    // case 'GET_RECIPES':\n    //     return {\n    //         ...state,\n    //         recipes: action.payload\n    //     }\n\n    case 'FILTER_CREATED':\n      const createdFilter = action.payload === 'created' ? state.allRecipes.filter(el => el.createdInDB) : state.allRecipes.filter(el => !el.createdInDB);\n      return { ...state,\n        recipes: action.payload === 'all' ? state.allRecipes : createdFilter\n      };\n\n    case \"GET_DETAIL\":\n      return { ...state,\n        detail: action.payload\n      };\n\n    case \"GET_RECIPE_TYPE\":\n      return { ...state,\n        recipeTypes: action.payload\n      };\n\n    case 'ORDER_BY_SCORE':\n      let sortedArr = action.payload === 'UP' ? state.recipes.sort(function (a, b) {\n        if (a.score > b.score) {\n          return 1;\n        }\n\n        if (b.score > a.score) {\n          return -1;\n        }\n\n        return 0;\n      }) : state.recipes.sort(function (a, b) {\n        if (a.score > b.score) {\n          return -1;\n        }\n\n        if (b.score > a.score) {\n          return 1;\n        }\n\n        return 0;\n      });\n      return { ...state,\n        recipes: sortedArr\n      };\n\n    case 'FILTER_BY_ALPHA':\n      let alphaArr = action.payload === 'A-Z' ? state.allRecipes.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return 1;\n        }\n\n        ;\n\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return -1;\n        }\n\n        ;\n        return 0;\n      }) : state.allRecipes.sort(function (a, b) {\n        if (a.name.toLowerCase() > b.name.toLowerCase()) {\n          return -1;\n        }\n\n        ;\n\n        if (a.name.toLowerCase() < b.name.toLowerCase()) {\n          return 1;\n        }\n\n        ;\n        return 0;\n      });\n      return { ...state,\n        recipes: alphaArr\n      };\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"sources":["C:/Users/lacri/OneDrive/Desktop/food/PI-food-main/PI-food-main/PI-Food-main/client/src/reducer/index.js"],"names":["initialState","recipes","allRecipes","diets","detail","rootReducer","state","action","type","payload","dietsAPI","dietsDB","forEach","e","hasOwnProperty","includes","push","find","c","name","concat","length","createdFilter","filter","el","createdInDB","recipeTypes","sortedArr","sort","a","b","score","alphaArr","toLowerCase"],"mappings":"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","sourcesContent":["\r\nconst initialState = {\r\n    recipes: [],\r\n      allRecipes: [],\r\n      diets: [],\r\n      detail: []\r\n}\r\n\r\nfunction rootReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'GET_RECIPES':\r\n            return {\r\n                ...state,\r\n                recipes: action.payload,\r\n                \r\n            }\r\n        default:\r\n            return { ...state};\r\n\r\n            case 'GET_NAME_RECIPES':\r\n                return {\r\n                    ...state,\r\n                    recipes: action.payload\r\n                }\r\n            case 'FILTER_BY_DIET':\r\n                const allRecipes = state.allRecipes\r\n                const dietsAPI = []\r\n                const dietsDB = []\r\n                allRecipes.forEach(e => {\r\n                    if (e.hasOwnProperty('diets') && e.diets.includes(action.payload)) {\r\n                        dietsAPI.push(e)\r\n                    }\r\n                })\r\n    \r\n                allRecipes.forEach(e => {\r\n                    if (e.hasOwnProperty('diets') && e.diets.find(c => c.name === action.payload)) {\r\n                        dietsDB.push(e)\r\n                    }\r\n                })\r\n                const find = dietsAPI.concat(dietsDB)\r\n                if (find.length) {\r\n                    return {\r\n                        ...state,\r\n                        recipes: find\r\n                    }\r\n                };\r\n                break;\r\n    \r\n            case 'POST_RECIPE':\r\n                return {\r\n                    ...state\r\n                }\r\n            // case 'GET_RECIPES':\r\n            //     return {\r\n            //         ...state,\r\n            //         recipes: action.payload\r\n            //     }\r\n            case 'FILTER_CREATED':\r\n                const createdFilter = action.payload === 'created' ? state.allRecipes.filter(el => el.createdInDB) : state.allRecipes.filter(el => !el.createdInDB)\r\n                return {\r\n                    ...state,\r\n                    recipes: action.payload === 'all' ? state.allRecipes : createdFilter\r\n                }\r\n            case \"GET_DETAIL\":\r\n                return {\r\n                    ...state,\r\n                    detail: action.payload,\r\n                }\r\n            case \"GET_RECIPE_TYPE\":\r\n                return {\r\n                    ...state,\r\n                    recipeTypes: action.payload,\r\n                }\r\n            case 'ORDER_BY_SCORE':\r\n                let sortedArr = action.payload === 'UP' ? state.recipes.sort(function (a, b) {\r\n                    if (a.score > b.score) {\r\n                        return 1\r\n                    }\r\n                    if (b.score > a.score) {\r\n                        return -1\r\n                    }\r\n                    return 0\r\n                }) :\r\n                    state.recipes.sort(function (a, b) {\r\n                        if (a.score > b.score) {\r\n                            return -1\r\n                        }\r\n                        if (b.score > a.score) {\r\n                            return 1\r\n                        }\r\n                        return 0\r\n                    })\r\n                return {\r\n                    ...state,\r\n                    recipes: sortedArr\r\n                }\r\n            case 'FILTER_BY_ALPHA':\r\n                let alphaArr = action.payload === 'A-Z' ? state.allRecipes.sort(function (a, b) {\r\n                    if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                        return 1;\r\n                    };\r\n                    if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                        return -1;\r\n                    };\r\n                    return 0;\r\n                }) :\r\n                    state.allRecipes.sort(function (a, b) {\r\n                        if (a.name.toLowerCase() > b.name.toLowerCase()) {\r\n                            return -1;\r\n                        };\r\n                        if (a.name.toLowerCase() < b.name.toLowerCase()) {\r\n                            return 1;\r\n                        };\r\n                        return 0;\r\n                    });\r\n                return {\r\n                    ...state,\r\n                    recipes: alphaArr\r\n                }\r\n    }\r\n}\r\n\r\nexport default rootReducer;"]},"metadata":{},"sourceType":"module"}
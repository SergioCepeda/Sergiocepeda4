{"ast":null,"code":"import { GET_RECIPES, GET_DIETS, FILTER_BY_DIETS, ORDER_BY_NAME, SEARCH_BY_NAME, ORDER_BY_SCORE, RECIPE_DETAIL, POST_RECIPE } from \"../actions\";\nconst initialState = {\n  recipes: [],\n  recipesCopyState: [],\n  diets: [],\n  detail: []\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_RECIPES:\n      return { ...state,\n        recipes: action.payload,\n        recipesCopyState: action.payload\n      };\n\n    case GET_DIETS:\n      return { ...state,\n        diets: action.payload\n      };\n\n    case FILTER_BY_DIETS:\n      const recipes = state.recipesCopyState;\n      const recipesWithDiet = action.payload === 'all' ? recipes : recipes.filter(r => {\n        let names = r.diets.map(d => d.name);\n        if (names.includes(action.payload)) return r;\n      });\n      return { ...state,\n        recipes: recipesWithDiet\n      };\n\n    case ORDER_BY_NAME:\n      const recipesSorted = action.payload === 'asc' ? state.recipes.sort((a, b) => {\n        if (a.name > b.name) return 1;\n        if (b.name > a.name) return -1;\n        return 0;\n      }) : state.recipes.sort((a, b) => {\n        if (a.name > b.name) return -1;\n        if (b.name > a.name) return 1;\n        return 0;\n      });\n      return { ...state,\n        recipes: recipesSorted\n      };\n\n    case ORDER_BY_SCORE:\n      const recipesByScore = action.payload === 'asc' ? state.recipes.sort((a, b) => {\n        if (a.healthScore > b.healthScore) return 1;\n        if (b.healthScore > a.healthScore) return -1;\n        return 0;\n      }) : state.recipes.sort((a, b) => {\n        if (a.healthScore > b.healthScore) return -1;\n        if (b.healthScore > a.healthScore) return 1;\n        return 0;\n      });\n      return { ...state,\n        recipes: recipesByScore\n      };\n\n    case SEARCH_BY_NAME:\n      return { ...state,\n        recipes: action.payload\n      };\n\n    case POST_RECIPE:\n      return { ...state\n      };\n\n    case RECIPE_DETAIL:\n      return { ...state,\n        detail: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/lacri/OneDrive/Desktop/food/PI-food-main/PI-food-main/PI-Food-main/client/src/reducer/index.js"],"names":["GET_RECIPES","GET_DIETS","FILTER_BY_DIETS","ORDER_BY_NAME","SEARCH_BY_NAME","ORDER_BY_SCORE","RECIPE_DETAIL","POST_RECIPE","initialState","recipes","recipesCopyState","diets","detail","reducer","state","action","type","payload","recipesWithDiet","filter","r","names","map","d","name","includes","recipesSorted","sort","a","b","recipesByScore","healthScore"],"mappings":"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","sourcesContent":["import { GET_RECIPES, GET_DIETS, FILTER_BY_DIETS, ORDER_BY_NAME, SEARCH_BY_NAME, ORDER_BY_SCORE, RECIPE_DETAIL, POST_RECIPE } from \"../actions\";\r\n\r\nconst initialState = {\r\n    recipes: [],\r\n    recipesCopyState: [],\r\n    diets: [],\r\n    detail: []\r\n}\r\n\r\nconst reducer = function (state = initialState, action) {\r\n    switch (action.type) {\r\n        case GET_RECIPES:\r\n            return {\r\n                ...state,\r\n                recipes: action.payload,\r\n                recipesCopyState: action.payload\r\n            }\r\n        case GET_DIETS:\r\n            return {\r\n                ...state,\r\n                diets: action.payload\r\n            }\r\n        case FILTER_BY_DIETS:\r\n            const recipes = state.recipesCopyState\r\n            const recipesWithDiet = action.payload === 'all' ? recipes :\r\n                recipes.filter(r => {\r\n                    let names = r.diets.map(d => d.name)\r\n                    if (names.includes(action.payload)) return r\r\n                })\r\n            return {\r\n                ...state,\r\n                recipes: recipesWithDiet\r\n            }\r\n        case ORDER_BY_NAME:\r\n            const recipesSorted = action.payload === 'asc' ?\r\n                state.recipes.sort((a, b) => {\r\n                    if (a.name > b.name) return 1;\r\n                    if (b.name > a.name) return -1;\r\n                    return 0;\r\n                }) :\r\n                state.recipes.sort((a, b) => {\r\n                    if (a.name > b.name) return -1;\r\n                    if (b.name > a.name) return 1;\r\n                    return 0;\r\n                });\r\n            return {\r\n                ...state,\r\n                recipes: recipesSorted\r\n            }\r\n        case ORDER_BY_SCORE:\r\n            const recipesByScore = action.payload === 'asc' ?\r\n                state.recipes.sort((a, b) => {\r\n                    if (a.healthScore > b.healthScore) return 1;\r\n                    if (b.healthScore > a.healthScore) return -1;\r\n                    return 0;\r\n                }) :\r\n                state.recipes.sort((a, b) => {\r\n                    if (a.healthScore > b.healthScore) return -1;\r\n                    if (b.healthScore > a.healthScore) return 1;\r\n                    return 0;\r\n                });\r\n            return {\r\n                ...state,\r\n                recipes: recipesByScore\r\n            }\r\n\r\n        case SEARCH_BY_NAME:\r\n            return {\r\n                ...state,\r\n                recipes: action.payload\r\n            };\r\n        case POST_RECIPE:\r\n            return {\r\n                ...state\r\n            }\r\n        case RECIPE_DETAIL:\r\n            return {\r\n                ...state,\r\n                detail: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n};\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}